"0","#fitting the model"
"0","fit_rf1 <- randomForest(UNITS ~ .-STORE_NUM-BASE_PRICE-WEEK_END_DATE-TPR_ONLY, data = dta, subset = train_points,importance=TRUE)"
"0","print(fit_rf1)"
"1","
Call:
"
"1"," "
"1","randomForest(formula = UNITS ~ . - STORE_NUM - BASE_PRICE - WEEK_END_DATE - "
"1"," "
"1","    TPR_ONLY, data = dta, importance = TRUE, subset = train_points)"
"1"," "
"1","
"
"1","               Type of random forest: "
"1",""
"1","regression"
"1",""
"1","
"
"1","                     Number of trees: "
"1",""
"1","500"
"1",""
"1","
"
"1","No. of variables tried at each split: "
"1",""
"1","2"
"1",""
"1","

"
"1","          Mean of squared residuals: "
"1",""
"1","58.36646"
"1",""
"1","
"
"1","                    % Var explained: "
"1",""
"1","68.5"
"1",""
"1","
"
"0","rf_pred <- predict(fit_rf1, newdata = dta[-train_points,])"
"0","cat(""Mean absolute error:"", mean(abs(rf_pred - dta$UNITS[-train_points])), ""\n"")"
"1","Mean absolute error:"
"1"," "
"1","4.752283"
"1"," "
"1","
"
"0","#Saving the performace in test set"
"0","MSE[2]<-mean(abs(rf_pred - dta$UNITS[-train_points]))"
"0","RMSE[2]<-(mean((rf_pred - dta$UNITS[-train_points])^2))^(1/2)"
"0","Row_name[2]<-""fit_rf1"""
"0",""
"0","#analisis of the model"
"0","fit_imp <- importance(fit_rf1, type = 1)#generate importance table "
"0","as.data.frame(fit_imp[order(fit_imp,decreasing =TRUE),])"
