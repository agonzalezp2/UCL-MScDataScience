"0","#fitting the model"
"0","fit_rf2 <- randomForest(UNITS ~ .-STORE_NUM-BASE_PRICE-MANUFACTURER-WEEK_END_DATE-TPR_ONLY, data = dta, subset = train_points,importance=TRUE)"
"0","model_rf<-fit_rf2"
"0","print(model_rf)"
"1","
Call:
"
"1"," "
"1","randomForest(formula = UNITS ~ . - STORE_NUM - BASE_PRICE - MANUFACTURER - "
"1"," "
"1","    WEEK_END_DATE - TPR_ONLY, data = dta, importance = TRUE, "
"1"," "
"1","    subset = train_points)"
"1"," "
"1","
"
"1","               Type of random forest: "
"1",""
"1","regression"
"1",""
"1","
"
"1","                     Number of trees: "
"1",""
"1","500"
"1",""
"1","
"
"1","No. of variables tried at each split: "
"1",""
"1","2"
"1",""
"1","

"
"1","          Mean of squared residuals: "
"1",""
"1","59.62831"
"1",""
"1","
"
"1","                    % Var explained: "
"1",""
"1","67.82"
"1",""
"1","
"
"0","rf_pred <- predict(model_rf, newdata = dta[-train_points,])"
"0","cat(""Mean absolute error:"", mean(abs(rf_pred - dta$UNITS[-train_points])), ""\n"")"
"1","Mean absolute error:"
"1"," "
"1","4.782794"
"1"," "
"1","
"
"0","#Saving the model"
"0","MSE[3]<-mean(abs(rf_pred - dta$UNITS[-train_points]))"
"0","RMSE[3]<-(mean((rf_pred - dta$UNITS[-train_points])^2))^(1/2)"
"0","Row_name[3]<-""fit_rf2"""
"0",""
"0","#analysing the model"
"0","#fit_imp <- importance(model_rf, type = 1)#generate importance table "
"0","#as.data.frame(fit_imp[order(fit_imp,decreasing =TRUE),])"
"0",""
"0","#varImpPlot(model_rf)"
